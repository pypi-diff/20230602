# Comparing `tmp/qworker-1.7.7-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.zip` & `tmp/qworker-1.7.8-cp39-cp39-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.zip`

## zipinfo {}

```diff
@@ -1,32 +1,32 @@
-Zip file size: 314790 bytes, number of entries: 30
-drwxr-xr-x  2.0 unx        0 b- stor 23-Jun-01 23:49 qworker-1.7.7.dist-info/
-drwxr-xr-x  2.0 unx        0 b- stor 23-Jun-01 23:49 qw/
-drwxr-xr-x  2.0 unx        0 b- stor 23-Jun-01 23:49 qworker.libs/
--rw-rw-r--  2.0 unx     1951 b- defN 23-Jun-01 23:49 qworker-1.7.7.dist-info/RECORD
--rw-r--r--  2.0 unx      217 b- defN 23-Jun-01 23:49 qworker-1.7.7.dist-info/WHEEL
--rw-r--r--  2.0 unx        3 b- defN 23-Jun-01 23:49 qworker-1.7.7.dist-info/top_level.txt
--rw-r--r--  2.0 unx     1070 b- defN 23-Jun-01 23:49 qworker-1.7.7.dist-info/LICENSE
--rw-r--r--  2.0 unx       40 b- defN 23-Jun-01 23:49 qworker-1.7.7.dist-info/entry_points.txt
--rw-r--r--  2.0 unx     3170 b- defN 23-Jun-01 23:49 qworker-1.7.7.dist-info/METADATA
-drwxr-xr-x  2.0 unx        0 b- stor 23-Jun-01 23:49 qw/utils/
-drwxr-xr-x  2.0 unx        0 b- stor 23-Jun-01 23:49 qw/wrappers/
--rw-r--r--  2.0 unx     2160 b- defN 23-Jun-01 23:49 qw/discovery.py
--rw-r--r--  2.0 unx    15590 b- defN 23-Jun-01 23:49 qw/client.py
--rw-r--r--  2.0 unx     2370 b- defN 23-Jun-01 23:49 qw/conf.py
--rw-r--r--  2.0 unx     2392 b- defN 23-Jun-01 23:49 qw/__main__.py
--rw-r--r--  2.0 unx      379 b- defN 23-Jun-01 23:49 qw/decorators.py
--rw-r--r--  2.0 unx    21261 b- defN 23-Jun-01 23:49 qw/server.py
--rw-r--r--  2.0 unx      622 b- defN 23-Jun-01 23:49 qw/version.py
--rw-r--r--  2.0 unx     4129 b- defN 23-Jun-01 23:49 qw/protocols.py
--rw-r--r--  2.0 unx     7462 b- defN 23-Jun-01 23:49 qw/process.py
--rw-r--r--  2.0 unx      137 b- defN 23-Jun-01 23:49 qw/__init__.py
--rwxr-xr-x  2.0 unx   568544 b- defN 23-Jun-01 23:49 qw/exceptions.cpython-39-x86_64-linux-gnu.so
--rw-r--r--  2.0 unx      512 b- defN 23-Jun-01 23:49 qw/utils/functions.py
--rw-r--r--  2.0 unx       46 b- defN 23-Jun-01 23:49 qw/utils/__init__.py
--rw-r--r--  2.0 unx      597 b- defN 23-Jun-01 23:49 qw/utils/versions.py
--rwxr-xr-x  2.0 unx   434800 b- defN 23-Jun-01 23:49 qw/utils/json.cpython-39-x86_64-linux-gnu.so
--rw-r--r--  2.0 unx      895 b- defN 23-Jun-01 23:49 qw/wrappers/base.py
--rw-r--r--  2.0 unx      320 b- defN 23-Jun-01 23:49 qw/wrappers/__init__.py
--rw-r--r--  2.0 unx     4180 b- defN 23-Jun-01 23:49 qw/wrappers/di_task.py
--rw-r--r--  2.0 unx      853 b- defN 23-Jun-01 23:49 qw/wrappers/func.py
-30 files, 1073700 bytes uncompressed, 311236 bytes compressed:  71.0%
+Zip file size: 314766 bytes, number of entries: 30
+drwxr-xr-x  2.0 unx        0 b- stor 23-Jun-02 00:28 qw/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Jun-02 00:28 qworker-1.7.8.dist-info/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Jun-02 00:28 qworker.libs/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Jun-02 00:28 qw/wrappers/
+drwxr-xr-x  2.0 unx        0 b- stor 23-Jun-02 00:28 qw/utils/
+-rw-r--r--  2.0 unx      137 b- defN 23-Jun-02 00:28 qw/__init__.py
+-rw-r--r--  2.0 unx      622 b- defN 23-Jun-02 00:28 qw/version.py
+-rw-r--r--  2.0 unx     7462 b- defN 23-Jun-02 00:28 qw/process.py
+-rw-r--r--  2.0 unx     2370 b- defN 23-Jun-02 00:28 qw/conf.py
+-rw-r--r--  2.0 unx     4129 b- defN 23-Jun-02 00:28 qw/protocols.py
+-rw-r--r--  2.0 unx     2392 b- defN 23-Jun-02 00:28 qw/__main__.py
+-rwxr-xr-x  2.0 unx   568544 b- defN 23-Jun-02 00:28 qw/exceptions.cpython-39-x86_64-linux-gnu.so
+-rw-r--r--  2.0 unx    15590 b- defN 23-Jun-02 00:28 qw/client.py
+-rw-r--r--  2.0 unx    21225 b- defN 23-Jun-02 00:28 qw/server.py
+-rw-r--r--  2.0 unx     2160 b- defN 23-Jun-02 00:28 qw/discovery.py
+-rw-r--r--  2.0 unx      379 b- defN 23-Jun-02 00:28 qw/decorators.py
+-rw-r--r--  2.0 unx      320 b- defN 23-Jun-02 00:28 qw/wrappers/__init__.py
+-rw-r--r--  2.0 unx     4180 b- defN 23-Jun-02 00:28 qw/wrappers/di_task.py
+-rw-r--r--  2.0 unx      920 b- defN 23-Jun-02 00:28 qw/wrappers/base.py
+-rw-r--r--  2.0 unx      853 b- defN 23-Jun-02 00:28 qw/wrappers/func.py
+-rw-r--r--  2.0 unx      597 b- defN 23-Jun-02 00:28 qw/utils/versions.py
+-rw-r--r--  2.0 unx       46 b- defN 23-Jun-02 00:28 qw/utils/__init__.py
+-rw-r--r--  2.0 unx      512 b- defN 23-Jun-02 00:28 qw/utils/functions.py
+-rwxr-xr-x  2.0 unx   434800 b- defN 23-Jun-02 00:28 qw/utils/json.cpython-39-x86_64-linux-gnu.so
+-rw-r--r--  2.0 unx     3170 b- defN 23-Jun-02 00:28 qworker-1.7.8.dist-info/METADATA
+-rw-r--r--  2.0 unx     1070 b- defN 23-Jun-02 00:28 qworker-1.7.8.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     1951 b- defN 23-Jun-02 00:28 qworker-1.7.8.dist-info/RECORD
+-rw-r--r--  2.0 unx       40 b- defN 23-Jun-02 00:28 qworker-1.7.8.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        3 b- defN 23-Jun-02 00:28 qworker-1.7.8.dist-info/top_level.txt
+-rw-r--r--  2.0 unx      217 b- defN 23-Jun-02 00:28 qworker-1.7.8.dist-info/WHEEL
+30 files, 1073689 bytes uncompressed, 311212 bytes compressed:  71.0%
```

## zipnote {}

```diff
@@ -1,91 +1,91 @@
-Filename: qworker-1.7.7.dist-info/
+Filename: qw/
 Comment: 
 
-Filename: qw/
+Filename: qworker-1.7.8.dist-info/
 Comment: 
 
 Filename: qworker.libs/
 Comment: 
 
-Filename: qworker-1.7.7.dist-info/RECORD
+Filename: qw/wrappers/
 Comment: 
 
-Filename: qworker-1.7.7.dist-info/WHEEL
+Filename: qw/utils/
 Comment: 
 
-Filename: qworker-1.7.7.dist-info/top_level.txt
+Filename: qw/__init__.py
 Comment: 
 
-Filename: qworker-1.7.7.dist-info/LICENSE
+Filename: qw/version.py
 Comment: 
 
-Filename: qworker-1.7.7.dist-info/entry_points.txt
+Filename: qw/process.py
 Comment: 
 
-Filename: qworker-1.7.7.dist-info/METADATA
+Filename: qw/conf.py
 Comment: 
 
-Filename: qw/utils/
+Filename: qw/protocols.py
 Comment: 
 
-Filename: qw/wrappers/
+Filename: qw/__main__.py
 Comment: 
 
-Filename: qw/discovery.py
+Filename: qw/exceptions.cpython-39-x86_64-linux-gnu.so
 Comment: 
 
 Filename: qw/client.py
 Comment: 
 
-Filename: qw/conf.py
+Filename: qw/server.py
 Comment: 
 
-Filename: qw/__main__.py
+Filename: qw/discovery.py
 Comment: 
 
 Filename: qw/decorators.py
 Comment: 
 
-Filename: qw/server.py
+Filename: qw/wrappers/__init__.py
 Comment: 
 
-Filename: qw/version.py
+Filename: qw/wrappers/di_task.py
 Comment: 
 
-Filename: qw/protocols.py
+Filename: qw/wrappers/base.py
 Comment: 
 
-Filename: qw/process.py
+Filename: qw/wrappers/func.py
 Comment: 
 
-Filename: qw/__init__.py
+Filename: qw/utils/versions.py
 Comment: 
 
-Filename: qw/exceptions.cpython-39-x86_64-linux-gnu.so
+Filename: qw/utils/__init__.py
 Comment: 
 
 Filename: qw/utils/functions.py
 Comment: 
 
-Filename: qw/utils/__init__.py
+Filename: qw/utils/json.cpython-39-x86_64-linux-gnu.so
 Comment: 
 
-Filename: qw/utils/versions.py
+Filename: qworker-1.7.8.dist-info/METADATA
 Comment: 
 
-Filename: qw/utils/json.cpython-39-x86_64-linux-gnu.so
+Filename: qworker-1.7.8.dist-info/LICENSE
 Comment: 
 
-Filename: qw/wrappers/base.py
+Filename: qworker-1.7.8.dist-info/RECORD
 Comment: 
 
-Filename: qw/wrappers/__init__.py
+Filename: qworker-1.7.8.dist-info/entry_points.txt
 Comment: 
 
-Filename: qw/wrappers/di_task.py
+Filename: qworker-1.7.8.dist-info/top_level.txt
 Comment: 
 
-Filename: qw/wrappers/func.py
+Filename: qworker-1.7.8.dist-info/WHEEL
 Comment: 
 
 Zip file comment:
```

## qw/server.py

```diff
@@ -205,15 +205,15 @@
     def run_process(self, fn, loop):
         """Unpickles task, runs it and pickles result."""
         # loop = asyncio.new_event_loop()
         asyncio.set_event_loop(loop)
         fn.set_loop(loop)
         try:
             result = loop.run_until_complete(
-                self.run_function(fn, loop)
+                self.run_function(fn)
             )
             print("run_process completed normally")
             return result
         except Exception as err:
             raise QWException(
                 f"Error: {err}"
             ) from err
@@ -267,21 +267,19 @@
                 # Running a FlowTask Task
                 task.set_loop(loop)
                 task.debug = True
                 self.logger.debug(
                     f'Running Queued Task: {task!s}'
                 )
                 try:
-                    # fn = partial(self.run_function, task)
                     fn = loop.create_task(self.run_task(task))
                     result = await fn
                     # with ThreadPoolExecutor(max_workers=2) as pool:
                     #     future = loop.run_in_executor(pool, fn)
                     #     result = await future
-                    print(f'RESULT > {result}')
                 except (RuntimeError) as err:
                     raise QWException(
                         f"Error: {err}"
                     ) from err
                 except Exception as err:
                     print(err)
             elif isinstance(task, FuncWrapper):
@@ -477,17 +475,21 @@
             except asyncio.QueueFull:
                 return await self.discard_task(
                     f"Worker {self.name!s} Queue is Full, discarding Task {task!r}"
                 )
         else:
             try:
                 # executed and send result to client
+                loop = asyncio.get_running_loop()
                 task.id = uid
-                fn = partial(self.run_process, task)
-                return await self._loop.run_in_executor(self._executor, fn)
+                task.set_loop(loop)
+                fn = loop.create_task(
+                    self.run_function(task)
+                )
+                return await fn
             except Exception as err:  # pylint: disable=W0703
                 try:
                     result = cloudpickle.dumps(err)
                 except Exception as ex:  # pylint: disable=W0703
                     result = cloudpickle.dumps(
                         QWException(
                             f'Error on Deal with Exception: {ex!s}'
@@ -526,15 +528,15 @@
         if not task:
             return False
         elif isinstance(task, QueueWrapper):
             if not (result := await self.handle_queue_wrapper(task, task_uuid, writer)):
                 return False
         elif callable(task):
             result = await self.run_function(
-                task, self._loop
+                task
             )
         else:
             # put work in Queue:
             try:
                 await self.queue.put(task)
                 await asyncio.sleep(.1)
                 self.logger.debug(
```

## qw/version.py

```diff
@@ -2,15 +2,15 @@
    QueueWorker is a asyncio-based Worker for distributed functions.
 """
 
 __title__ = 'qworker'
 __description__ = ('QueueWorker is asynchronous Task Queue implementation '
                    'built on top of Asyncio.'
                    'Can you spawn distributed workers to run functions inside workers.')
-__version__ = '1.7.7'
+__version__ = '1.7.8'
 __author__ = 'Jesus Lara'
 __author_email__ = 'jesuslarag@gmail.com'
 __license__ = 'MIT'
 
 def get_version() -> tuple:  # pragma: no cover
     """ Get Queue Worker version as tuple.
     """
```

## qw/wrappers/base.py

```diff
@@ -14,14 +14,15 @@
     def __init__(self, *args, **kwargs):
         if 'queued' in kwargs:
             self._queued = kwargs['queued']
             del kwargs['queued']
         self._id = uuid.uuid4()
         self.args = args
         self.kwargs = kwargs
+        self.loop = None
 
     @property
     def queued(self):
         return self._queued
 
     @queued.setter
     def queued(self, value):
```

## Comparing `qworker-1.7.7.dist-info/RECORD` & `qworker-1.7.8.dist-info/RECORD`

 * *Files 11% similar despite different names*

```diff
@@ -1,25 +1,25 @@
-qworker-1.7.7.dist-info/RECORD,,
-qworker-1.7.7.dist-info/WHEEL,sha256=G1-Tt_WO10x9oXjmzv4wXxMLbyVnQaK1ig1QydJbPuA,217
-qworker-1.7.7.dist-info/top_level.txt,sha256=2NxbFCeI_G1kzzf628VnbDchanCX6rcTJORdENY-rHI,3
-qworker-1.7.7.dist-info/LICENSE,sha256=EW8vB8vWRFvBxGC3soG2HCxkuNrQpOGUgNFd81h7u54,1070
-qworker-1.7.7.dist-info/entry_points.txt,sha256=ooHTYYyEjHI9Rj79mHQmU_s4HP-PTvD3g3xSa26vIGc,40
-qworker-1.7.7.dist-info/METADATA,sha256=iXxvvhwHjKRJ8jM-VOIVBVQyZ_fti8V1kC0xdUxHKs0,3170
-qw/discovery.py,sha256=l_Lb3Bmni6WTTu5fxzj4-9KquiRak1rq8k9I70f_hSI,2160
-qw/client.py,sha256=RqMTMbATZOhUD5lGdN6MIFOlzk5_pGzq9nM_eUuGzDU,15590
+qw/__init__.py,sha256=awMNjg7WGznbrNuJLoEJV6BbnREk4BPD8k9My8BD7Uo,137
+qw/version.py,sha256=D0vRiiPxapQdVyRpMBKng_WqTaJbu1gWKGM9HWd7IS4,622
+qw/process.py,sha256=5hTfos_sBg81tSfkNRRBQxwwMJMyWjLlZs4KSAAmmVA,7462
 qw/conf.py,sha256=NwJmDyUJipLs70ygOONO3Z6HikecnBLzigMvJJPP3L0,2370
-qw/__main__.py,sha256=oUCTmeloFK83is_ipZ3yoRreu23TIcAELKhpOiIt_Xc,2392
-qw/decorators.py,sha256=m53pMJcotaf6XLJXbaSO6ywIgN8TWvbk__DbbsLWvkE,379
-qw/server.py,sha256=SRaQZ_TLKZQuJGgnbbUgm3fanYL2YnAz8TF1R1QOWNk,21261
-qw/version.py,sha256=5JztL3twy9ge5yp2xedSlpSfPLho49FVKuBxfe6Cse4,622
 qw/protocols.py,sha256=FkBzIGCRjDUiYPzoUrvIXOHCq_LSplEJXVtLfsn8B04,4129
-qw/process.py,sha256=5hTfos_sBg81tSfkNRRBQxwwMJMyWjLlZs4KSAAmmVA,7462
-qw/__init__.py,sha256=awMNjg7WGznbrNuJLoEJV6BbnREk4BPD8k9My8BD7Uo,137
+qw/__main__.py,sha256=oUCTmeloFK83is_ipZ3yoRreu23TIcAELKhpOiIt_Xc,2392
 qw/exceptions.cpython-39-x86_64-linux-gnu.so,sha256=31p1G11akVAHtoIku71L-pdOUKnmz0rZrK3glmOCQ9A,568544
-qw/utils/functions.py,sha256=9iXVvYLtQzOK0tRecOV2Oqrl-2raxAHwBCNilLui1xQ,512
-qw/utils/__init__.py,sha256=bYf_I4ymTf8vsqMjK00NJi2-A-lVijPTwN6HDOVjcjQ,46
-qw/utils/versions.py,sha256=d8AdLmhM1bPc82vTAshCJBljGr-Ur3_hiZ_GtTbbORA,597
-qw/utils/json.cpython-39-x86_64-linux-gnu.so,sha256=cL7bP26M2Hib8DD0QMRY-AL6izzzBUWrJxxWHbIEkhA,434800
-qw/wrappers/base.py,sha256=RUpBrj1Zb6Mu1xWdH8npaQBPZzFLOCjuqFN7Ejd870A,895
+qw/client.py,sha256=RqMTMbATZOhUD5lGdN6MIFOlzk5_pGzq9nM_eUuGzDU,15590
+qw/server.py,sha256=dUAvf4BzkcXjkdd4bwKmvOnCp7PWNEqsAY_YmWvGLEA,21225
+qw/discovery.py,sha256=l_Lb3Bmni6WTTu5fxzj4-9KquiRak1rq8k9I70f_hSI,2160
+qw/decorators.py,sha256=m53pMJcotaf6XLJXbaSO6ywIgN8TWvbk__DbbsLWvkE,379
 qw/wrappers/__init__.py,sha256=Ot_f0GTaDB50Za4Hxsz2FZSkZDn4zZoDHjXOvqj9T9k,320
 qw/wrappers/di_task.py,sha256=lTLHpDhy3YK08Hd4jdSJkFfEaahrwHTmNlqo02AfpmM,4180
+qw/wrappers/base.py,sha256=d9jR9pbNUt9B6cIlHtUokJXkSaPT0S0iI_AIbg4WoY0,920
 qw/wrappers/func.py,sha256=TOSZWL6_eynS0FqdQwSYDu_oW88DLZuj_i6QfWUHEkI,853
+qw/utils/versions.py,sha256=d8AdLmhM1bPc82vTAshCJBljGr-Ur3_hiZ_GtTbbORA,597
+qw/utils/__init__.py,sha256=bYf_I4ymTf8vsqMjK00NJi2-A-lVijPTwN6HDOVjcjQ,46
+qw/utils/functions.py,sha256=9iXVvYLtQzOK0tRecOV2Oqrl-2raxAHwBCNilLui1xQ,512
+qw/utils/json.cpython-39-x86_64-linux-gnu.so,sha256=cL7bP26M2Hib8DD0QMRY-AL6izzzBUWrJxxWHbIEkhA,434800
+qworker-1.7.8.dist-info/METADATA,sha256=CtPTlx1CtZYcz1hvuxSdYsh_x6xw2WF8fZv6O5G41iU,3170
+qworker-1.7.8.dist-info/LICENSE,sha256=EW8vB8vWRFvBxGC3soG2HCxkuNrQpOGUgNFd81h7u54,1070
+qworker-1.7.8.dist-info/RECORD,,
+qworker-1.7.8.dist-info/entry_points.txt,sha256=ooHTYYyEjHI9Rj79mHQmU_s4HP-PTvD3g3xSa26vIGc,40
+qworker-1.7.8.dist-info/top_level.txt,sha256=2NxbFCeI_G1kzzf628VnbDchanCX6rcTJORdENY-rHI,3
+qworker-1.7.8.dist-info/WHEEL,sha256=G1-Tt_WO10x9oXjmzv4wXxMLbyVnQaK1ig1QydJbPuA,217
```

## Comparing `qworker-1.7.7.dist-info/LICENSE` & `qworker-1.7.8.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `qworker-1.7.7.dist-info/METADATA` & `qworker-1.7.8.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: qworker
-Version: 1.7.7
+Version: 1.7.8
 Summary: QueueWorker is asynchronous Task Queue implementation built on top of Asyncio.Can you spawn distributed workers to run functions inside workers.
 Home-page: https://github.com/phenobarbital/qworker
 Author: Jesus Lara
 Author-email: jesuslara@phenobarbital.info
 License: MIT
 Project-URL: Source, https://github.com/phenobarbital/qworker
 Project-URL: Funding, https://paypal.me/phenobarbital
```

